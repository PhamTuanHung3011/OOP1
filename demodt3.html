<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="pin1"> Thoi luong Pin: </div>
<div id="stutus1"> Trang Thai </div>
<label> <input id="input1" style="width: 200px; height: 50px" placeholder="Soan tin nhan !"></label><br>
<button id="button1" type="button" onclick="Nokia()">Gui tin nhan</button>
<br>
<hr>
<label> <input id="input2" style="width: 200px; height: 50px" placeholder="Tin da gui"></label><br>
<hr>
<label> <input id="input3" style="width: 200px; height: 50px" placeholder="Tin da nhan"></label><br>
<button id="button2" type="button" onclick="BattatDT()"> On/Off</button>
<button id="button3" type="button" onclick=""> Check Status</button>
<button id="button4" type="button" onclick=""> Sac Pin</button>
<br>
<br>
<hr>
<div id="pin2"> Thoi luong Pin: </div>
<div id="stutus2"> Trang Thai </div>
<label> <input id="input4" style="width: 200px; height: 50px" placeholder="Soan tin nhan !"></label><br>
<button id="button5" type="button" onclick="">Gui tin nhan</button>
<br>
<hr>
<label> <input id="input5" style="width: 200px; height: 50px" placeholder="Tin da gui"></label><br>
<hr>
<label> <input id="input6" style="width: 200px; height: 50px" placeholder="Tin da nhan"></label><br>
<button id="button6" type="button" onclick=""> On/Off</button>
<button id="button7" type="button" onclick=""> Check Status</button>
<button id="button8" type="button" onclick=""> Sac Pin</button>





<script>

    class Mobile {
        ten;
        pin = 100;
        trangthai;
        soantin = [];
        guitin = [];
        nhantin = [];

        constructor(ten, trangthai) {
            this.ten = ten;
            this.trangthai = trangthai;
        }
        switchMobile() {
            if(this.pin === 0) {
                this.trangthai = false;
            } else {
                this.trangthai = !this.trangthai;
            }
        }

        decreasePin() {
            if (this.pin > 0 && this.trangthai) {
                this.pin--;
            } else if (this.pin) {
                console.log('bat dien thoai')
            } else {
                this.trangthai = false;
                this.pin = 0;
            }
        }
        getPin() {
            return this.pin;
        }
        sacPin() {
            this.pin = 100;
        }
        soanTinNhan(mess) {
            if (this.trangthai) {
                this.soantin.push(mess);
            } else {
                console.log('bat dien thoai len');
            }
            this.decreasePin();
        }
        getDaGuiTin() {
            return this.guitin;
        }
        setDaGuiTin(daguitin) {
            this.guitin = daguitin;
        }
        getDaNhanTin() {
            return this.nhantin;
        }
        setDaNhanTin(danhantin) {
            this.nhantin = danhantin;
        }
        getSoanTin() {
            return this.soantin;
        }
        setSoanTin(soantin) {
            this.soantin = soantin;
        }

        truyenTinNhan(mobile) {
            if (this.trangthai & mobile.trangthai) {
                mobile.setDaNhanTin(this.getSoanTin());
                this.setDaGuiTin(this.getSoanTin());
                this.getSoanTin([]);

            } else if (this.trangthai) {
                this.setDaGuiTin(this.getSoanTin());
                this.getSoanTin([]);
            } else {
                console.log('bat dien thoai len');
            }
            this.decreasePin();
        }

    }
    let nokia = new Mobile('110I', false);
    let Iphone = new Mobile('Iphone 13', false);

    function BattatDT() {
        nokia.getPin();
        nokia.switchMobile();
    }
    function display(){
        nokia.switchMobile();
        Iphone.switchMobile();
        console.log(nokia.getPin()) ;
        nokia.truyenTinNhan(Iphone);
        nokia.soanTinNhan('xin chao');
        console.log(nokia.getSoanTin());
        console.log(nokia.getDaGuiTin()) ;
        console.log(Iphone.getDaNhanTin()) ;
    }

    function Nokia() {
        let soantin1 =  document.getElementById('input1').value
        nokia.soanTinNhan(soantin1);
        nokia.getDaGuiTin(soantin1);
        Iphone.getDaNhanTin();
        display();
    }

</script>

</body>
</html>